from okx import Account

# åˆå§‹åŒ–è´¦æˆ· API
account = Account.AccountAPI(
    api_key='',
    api_secret_key='',
    passphrase='',
    flag='1'  # 0è¡¨ç¤ºå®ç›˜ï¼Œ1è¡¨ç¤ºæ¨¡æ‹Ÿç›˜
)

# è·å–åˆçº¦æŒä»“ä¿¡æ¯
print("\nğŸš€ æµ‹è¯•åˆçº¦æŒä»“ API ...")
try:
    resp_positions = account.get_positions()
    if resp_positions.get("code") == "0":
        print("âœ… åˆçº¦æŒä»“è·å–æˆåŠŸ")
        print(resp_positions.get("data"))
    else:
        print(f"âš ï¸ åˆçº¦æŒä»“è·å–å¤±è´¥: {resp_positions.get('msg')}")
except Exception as e:
    print(f"âŒ è¯»å–åˆçº¦æŒä»“æ—¶æŠ¥é”™: {e}")
